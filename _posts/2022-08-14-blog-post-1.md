---
title: 'ã€æ·±å…¥æµ…å‡ºPyTorchã€‘ç¬¬ä¸€ã€äºŒç« ï¼šPyTorchçš„ç®€ä»‹å’Œå®‰è£…ã€PyTorchåŸºç¡€çŸ¥è¯†'
date: 2022-08-14
permalink: /posts/2022/08/PyTorch-1/
tags:
  - PyTorch
  - Notes
---

æœ¬åšå®¢æ˜¯ã€æ·±å…¥æµ…å‡ºPyTorchã€‘è¯¾ç¨‹çš„ç¬”è®°ã€‚

## 1.1 PyTorchç®€ä»‹

PyTorchæ˜¯å½“å‰éš¾å¾—çš„ç®€ä»‹ä¼˜é›…ä¸”é«˜æ•ˆå¿«é€Ÿçš„æ¡†æ¶ã€‚

### 1.1.1 PyTorchçš„å‘å±•

ä¸‹å›¾æ˜¯æ¥è‡ª[paper with code](https://paperswithcode.com/trends)ç½‘ç«™ï¼Œé¢œè‰²é¢ç§¯ä»£è¡¨ä½¿ç”¨è¯¥æ¡†æ¶çš„è®ºæ–‡å…¬å¼€ä»£ç åº“æ•°é‡ï¼Œå¯ä»¥çœ‹åˆ°PyTorché€æ¸åœ¨å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œéƒ½èµ°å‘ä¸»å¯¼åœ°ä½ã€‚

![paper with code](/images/main_compare1.png)

### 1.1.2 PyTorchçš„ä¼˜åŠ¿

- æ›´åŠ ç®€æ´
- ä¸Šæ‰‹å¿«
- æœ‰è‰¯å¥½çš„æ–‡æ¡£å’Œç¤¾åŒºæ”¯æŒ
- é¡¹ç›®å¼€æº
- å¯ä»¥æ›´å¥½çš„è°ƒè¯•ä»£ç 
- è¶Šæ¥è¶Šå®Œå–„çš„æ‰©å±•åº“ï¼Œæ´»åŠ›æ—ºç››ï¼Œæ­£ç›´å½“æ‰“ä¹‹å¹´

## 1.2 PyTorchå®‰è£…

ç”±äºæœ¬äººè£…è¿‡å¾ˆå¤šæ¬¡PyTorchï¼Œæœ¬æ¬¡ç¬”è®°æš‚è·³è¿‡ä¸€äº›æ­¥éª¤ï¼ˆå°†æ¥æ—¶é—´å……è£•æ—¶å†è¡¥å……ï¼‰

### 1.2.1 Anacondaå®‰è£…

å»ºè®®å®‰è£…miniconda

#### åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

**æŸ¥çœ‹ç°å­˜è™šæ‹Ÿç¯å¢ƒ**

```bash
conda env list
```

**åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**

```bash
conda create -n ENV_NAME python==version
```

**å®‰è£…åŒ…**

```bash
conda install package_name
```

**å¸è½½åŒ…**

```bash
conda remove package_name
```

**æ˜¾ç¤ºæ‰€æœ‰çš„åŒ…**

```bash
conda list
```

**åˆ é™¤è™šæ‹Ÿç¯å¢ƒ**

```bash
conda remove -n ENV_NAME --all
```

**æ¿€æ´»ç¯å¢ƒ**

```bash
conda activate ENV_NAME
source activate ENV_NAME
```

**é€€å‡ºå½“å‰ç¯å¢ƒ**

```bash
conda deactivate
```

#### æ¢æº

åœ¨å®‰è£…åŒ…çš„æ—¶å€™ï¼Œconda é»˜è®¤ä¸‹è½½åœ°å€æœ‰çš„æ—¶å€™ä¸‹è½½é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ¢åˆ°å›½å†…æºä»¥åŠ é€Ÿä¸‹è½½ã€‚ä»¥ä¸‹è®°å½•Linuxç³»ç»Ÿä¸‹çš„æ¢æºã€‚

**pipæ¢æº**

å€ŸåŠ©`pip.conf`æ–‡ä»¶æ¥æ¢æº

```
cd ~
mkdir .pip
cd .pip
vi pip.conf
```

éšååœ¨`pip.conf`æ–‡ä»¶ä¸­æ·»åŠ ä¸‹æ–¹å†…å®¹ï¼š

```
[global]
index-url = http://pypi.douban.com/simple
[install]
use-mirrors =true
mirrors =http://pypi.douban.com/simple/
trusted-host =pypi.douban.com
```

**condaæ¢æºï¼ˆæ¸…åæºï¼‰**[å®˜æ–¹æ¢æºå¸®åŠ©](https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/)

å€ŸåŠ©`.condarc`æ–‡ä»¶æ¢æº

```
cd ~
vi .condarc
```

éšåå°†ä¸‹é¢å†…å®¹æ·»åŠ åˆ°`.condarc`ä¸­ï¼š

```
channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡`conda config --show defalt_channels`æ£€æŸ¥æ˜¯å¦æ¢æºæˆåŠŸï¼Œå¦‚æœå‡ºç°ä¸‹å›¾ï¼Œå³ä»£è¡¨æ¢æºæˆåŠŸã€‚

![channels](/images/posts/channels.png)

### 1.2.2 æŸ¥çœ‹æ˜¾å¡

`nvidia-smi`ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·ï¼ˆDriver version, CUDA versionï¼‰ï¼Œå®‰è£…PyTorchæ—¶æ˜¯å¯ä»¥å‘ä¸‹å…¼å®¹çš„ï¼Œå…·ä½“é€‚é…è¡¨å¦‚ä¸‹ï¼š

![version](/images/posts/cuda_version.png)

### 1.2.3 å®‰è£…PyTorch

#### [å®˜ç½‘å®‰è£…](https://pytorch.org)

ç•¥

#### ç¦»çº¿ä¸‹è½½

ä¸‹è½½åœ°å€ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/

é€šè¿‡è¿™ä¸ªä¸‹è½½åœ°å€ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„pytorchå’Œtorchvision

```
cd package_location
conda activate ENV_NAME

conda install --offline pytorchåŒ…å…¨ç§°
conda install --offline torchvisionåŒ…å…¨ç§°
```

#### æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ

```
import torch
torch.cuda.is_availabel()
```

### 1.2.4 IDEå®‰è£…

å¯é€‰ï¼Œæ¨èvscode

## 1.3 PyTorchå­¦ä¹ èµ„æº

1. [Awesome-pytorch-list](https://github.com/bharathgs/Awesome-pytorch-list)ï¼šç›®å‰å·²è·å¾—13K Starï¼ŒåŒ…å«äº†NLPï¼ŒCVï¼Œå¸¸è§åº“ï¼Œè®ºæ–‡å®ç°ä»¥åŠå…¶ä»–é¡¹ç›®
2. [PyTorchå®˜æ–¹æ–‡æ¡£](https://pytorch.org/docs/stable/index.html)
3. [åŠ¨æ‰‹æ·±åº¦å­¦ä¹ ](https://zh.d2l.ai)ï¼šææ²è€å¸ˆä¸»è®²çš„æ·±åº¦å­¦ä¹ å…¥é—¨è¯¾ï¼Œä¹¦ç±ã€è§†é¢‘ã€ä»£ç éå¸¸å®Œå–„ï¼Œå¼ºçƒˆæ¨èğŸ‘
4. [pytorch-handbook](https://github.com/zergtant/pytorch-handbook)ï¼šPyTorchæ‰‹ä¸­ä¹¦
5. [PyTorchå®˜æ–¹ç¤¾åŒº](https://discuss.pytorch.org)
6. [PyTorchå®˜æ–¹tutorials](https://pytorch.org/tutorials/)ï¼šå®˜æ–¹ç¼–å†™çš„æ•™ç¨‹ï¼Œå¯ä»¥ç»“åˆcolabè¾¹åŠ¨æ‰‹è¾¹å­¦ä¹ 
7. [Awesome-PyTorch-Chinese](https://github.com/INTERMT/Awesome-PyTorch-Chinese)ï¼šä¼˜è´¨ä¸­æ–‡èµ„æº
8. [æ·±å…¥æµ…å‡ºPyTorch](https://datawhalechina.github.io/thorough-pytorch/index.html)ï¼šæœ¬ç¬”è®°çš„æ¥æºï¼Œç”¨å¿ƒæ•´ç†çš„èµ„æ–™

# ç¬¬äºŒç«  PyTorchåŸºç¡€çŸ¥è¯†

[PyTorchåŸºç¡€çŸ¥è¯†](https://datawhalechina.github.io/thorough-pytorch/ç¬¬äºŒç« /index.html)ï¼Œå†…å®¹æ¯”è¾ƒç®€å•ï¼Œé“¾æ¥è´´åœ¨è¿™æ–¹ä¾¿æŸ¥çœ‹ã€‚



